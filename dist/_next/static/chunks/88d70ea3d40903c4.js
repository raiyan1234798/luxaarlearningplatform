(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64659,55900,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>s],64659);let i=(0,t.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>i],55900)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},14978,e=>{"use strict";var t=e.i(18050),s=e.i(71645),i=e.i(46932),l=e.i(18566),r=e.i(5766);e.i(36180);var o=e.i(98925),a=e.i(67426),n=e.i(7233),d=e.i(27612),c=e.i(64659),u=e.i(55900),p=e.i(75254);let h=(0,p.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var m=e.i(71689);let x=(0,p.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),y=(0,p.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var g=e.i(78583);let v=(0,p.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var f=e.i(22016);function j(e){return{title:"",description:"",video_url:"",video_type:"google_drive",notes:"",resources:[],duration_seconds:"",quiz_link:"",order_index:e}}function b(e){return{title:"",description:"",order_index:e,lessons:[j(0)]}}function _({mode:e,userId:p,initialCourse:_}){let C=(0,l.useRouter)(),[k,S]=(0,s.useState)(!1),[w,z]=(0,s.useState)(_?.title??""),[N,D]=(0,s.useState)(_?.description??""),[T,M]=(0,s.useState)(_?.thumbnail_url??""),[L,R]=(0,s.useState)(_?.instructor_name??""),[B,U]=(0,s.useState)(_?.tags?.join(", ")??""),[I,q]=(0,s.useState)(_?.difficulty??"beginner"),[H,P]=(0,s.useState)(_?.is_published??!1),[A,O]=(0,s.useState)(_?.is_featured??!1),[V,W]=(0,s.useState)(_?.modules&&_.modules.length>0?_.modules.sort((e,t)=>e.order_index-t.order_index).map(e=>({id:e.id,title:e.title,description:e.description??"",order_index:e.order_index,lessons:e.lessons.sort((e,t)=>e.order_index-t.order_index).map(e=>({id:e.id,title:e.title,description:e.description??"",video_url:e.video_url,video_type:e.video_type,notes:e.notes??"",resources:e.resources??[],duration_seconds:e.duration_seconds?.toString()??"",quiz_link:e.quiz_link??"",order_index:e.order_index}))})):[b(0)]),[F,E]=(0,s.useState)(new Set([0])),[$,G]=(0,s.useState)(new Set(["0-0"]));function J(e,t,s){W(i=>{let l=[...i];return l[e]={...l[e],[t]:s},l})}function K(e,t,s,i){W(l=>{let r=[...l],o={...r[e]},a=[...o.lessons];return a[t]={...a[t],[s]:i},o.lessons=a,r[e]=o,r})}function Y(e,t,s,i,l){let r=[...V[e].lessons[t].resources];r[s]={...r[s],[i]:l},K(e,t,"resources",r)}async function Q(){if(!w.trim())return void r.default.error("Course title is required");S(!0);let t=B.split(",").map(e=>e.trim()).filter(Boolean),s=_?.id;try{for(let[i,l]of("create"===e?s=(await (0,o.addDoc)((0,o.collection)(a.db,"courses"),{title:w,description:N,thumbnail_url:T||null,instructor_name:L,tags:t,difficulty:I,is_published:H,is_featured:A,created_by:p,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})).id:await (0,o.setDoc)((0,o.doc)(a.db,"courses",s),{title:w,description:N,thumbnail_url:T||null,instructor_name:L,tags:t,difficulty:I,is_published:H,is_featured:A,updated_at:new Date().toISOString()},{merge:!0}),V.entries())){let e=l.id;if(e&&!e.startsWith("temp-")?await (0,o.setDoc)((0,o.doc)(a.db,"modules",e),{course_id:s,title:l.title,description:l.description||null,order_index:i},{merge:!0}):e=(await (0,o.addDoc)((0,o.collection)(a.db,"modules"),{course_id:s,title:l.title,description:l.description||null,order_index:i,created_at:new Date().toISOString()})).id,e)for(let[t,i]of l.lessons.entries()){let l={module_id:e,course_id:s,title:i.title,description:i.description||null,video_url:i.video_url,video_type:i.video_type,notes:i.notes||null,quiz_link:i.quiz_link||null,resources:i.resources,duration_seconds:i.duration_seconds?parseInt(i.duration_seconds):null,order_index:t,updated_at:new Date().toISOString()};i.id&&!i.id.startsWith("temp-")?await (0,o.setDoc)((0,o.doc)(a.db,"lessons",i.id),l,{merge:!0}):await (0,o.addDoc)((0,o.collection)(a.db,"lessons"),{...l,created_at:new Date().toISOString()})}}r.default.success("create"===e?"Course created!":"Course updated!"),C.push(`/dashboard/courses/${s}`)}catch(e){console.error("Error saving course:",e),r.default.error("Failed to save course: "+e.message)}finally{S(!1)}}return(0,t.jsxs)("div",{style:{maxWidth:900},children:[(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{marginBottom:28},children:[(0,t.jsx)(f.default,{href:"/dashboard/admin/courses",style:{textDecoration:"none"},children:(0,t.jsxs)("button",{className:"btn-secondary",style:{fontSize:13,marginBottom:16},children:[(0,t.jsx)(m.ArrowLeft,{size:14}),"Back to Courses"]})}),(0,t.jsx)("h1",{style:{fontFamily:"Poppins, sans-serif",fontSize:"clamp(1.5rem, 3vw, 2rem)",fontWeight:700,color:"var(--text-primary)",letterSpacing:"-0.02em"},children:"create"===e?"Create New Course":"Edit Course"})]}),(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",style:{padding:"24px",marginBottom:20},children:[(0,t.jsx)("h2",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)",marginBottom:18},children:"Course Information"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Course Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"e.g. Complete Web Development Bootcamp",value:w,onChange:e=>z(e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Description"}),(0,t.jsx)("textarea",{className:"input",placeholder:"Describe what students will learn...",value:N,onChange:e=>D(e.target.value),style:{minHeight:90}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Instructor Name"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"John Doe",value:L,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Difficulty"}),(0,t.jsxs)("select",{className:"input",value:I,onChange:e=>q(e.target.value),children:[(0,t.jsx)("option",{value:"beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"React, JavaScript, Web Development",value:B,onChange:e=>U(e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Thumbnail URL (optional)"}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://...",value:T,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:20,gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"var(--text-secondary)"},children:[(0,t.jsx)("input",{type:"checkbox",checked:H,onChange:e=>P(e.target.checked)}),"Publish course (visible to students)"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"var(--text-secondary)"},children:[(0,t.jsx)("input",{type:"checkbox",checked:A,onChange:e=>O(e.target.checked)}),"Featured course"]})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("h2",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)",marginBottom:14},children:"Course Content"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:V.map((e,s)=>(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"card",style:{overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:12,cursor:"pointer",borderBottom:F.has(s)?"1px solid var(--border)":"none"},onClick:()=>{E(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},children:[(0,t.jsx)(x,{size:16,color:"var(--text-muted)"}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsxs)("div",{style:{fontSize:12,color:"var(--text-muted)",marginBottom:2},children:["Module ",s+1]}),(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)"},children:e.title||"Untitled Module"})]}),(0,t.jsxs)("span",{style:{fontSize:12,color:"var(--text-muted)"},children:[e.lessons.length," lesson",1!==e.lessons.length?"s":""]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),W(e=>e.filter((e,t)=>t!==s))},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",padding:4},children:(0,t.jsx)(d.Trash2,{size:14})}),F.has(s)?(0,t.jsx)(u.ChevronUp,{size:16,color:"var(--text-muted)"}):(0,t.jsx)(c.ChevronDown,{size:16,color:"var(--text-muted)"})]}),F.has(s)&&(0,t.jsxs)("div",{style:{padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:14,marginBottom:20},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Module Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Module title",value:e.title,onChange:e=>J(s,"title",e.target.value),onClick:e=>e.stopPropagation()})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Module Description"}),(0,t.jsx)("textarea",{className:"input",placeholder:"Optional description",value:e.description,onChange:e=>J(s,"description",e.target.value),style:{minHeight:60}})]})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:e.lessons.map((e,i)=>{let l=`${s}-${i}`,r=$.has(l);return(0,t.jsxs)("div",{style:{border:"1px solid var(--border)",borderRadius:10,overflow:"hidden",background:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{style:{padding:"12px 14px",display:"flex",alignItems:"center",gap:10,cursor:"pointer"},onClick:()=>{G(e=>{let t=new Set(e);return t.has(l)?t.delete(l):t.add(l),t})},children:[(0,t.jsx)(y,{size:14,color:"#c9a84c"}),(0,t.jsx)("span",{style:{flex:1,fontSize:13,fontWeight:500,color:"var(--text-primary)"},children:e.title||`Lesson ${i+1}`}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),W(e=>{let t=[...e],l={...t[s]},r=l.lessons.filter((e,t)=>t!==i);return l.lessons=r,t[s]=l,t})},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",padding:4},children:(0,t.jsx)(d.Trash2,{size:13})}),r?(0,t.jsx)(u.ChevronUp,{size:14,color:"var(--text-muted)"}):(0,t.jsx)(c.ChevronDown,{size:14,color:"var(--text-muted)"})]}),r&&(0,t.jsxs)("div",{style:{padding:"14px",borderTop:"1px solid var(--border)"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Lesson Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Lesson title",value:e.title,onChange:e=>K(s,i,"title",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Video Type"}),(0,t.jsxs)("select",{className:"input",value:e.video_type,onChange:e=>K(s,i,"video_type",e.target.value),children:[(0,t.jsx)("option",{value:"google_drive",children:"Google Drive"}),(0,t.jsx)("option",{value:"github",children:"GitHub"}),(0,t.jsx)("option",{value:"youtube",children:"YouTube"}),(0,t.jsx)("option",{value:"vimeo",children:"Vimeo"}),(0,t.jsx)("option",{value:"loom",children:"Loom"}),(0,t.jsx)("option",{value:"direct",children:"Direct URL (.mp4)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Duration (seconds)"}),(0,t.jsx)("input",{className:"input",type:"number",placeholder:"e.g. 600",value:e.duration_seconds,onChange:e=>K(s,i,"duration_seconds",e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Quiz Link (Optional)"}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://docs.google.com/forms/...",value:e.quiz_link||"",onChange:e=>K(s,i,"quiz_link",e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{className:"label",children:[(0,t.jsx)(v,{size:12,style:{display:"inline",marginRight:4}}),"Video URL *"]}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://drive.google.com/file/d/... or raw GitHub URL",value:e.video_url,onChange:e=>K(s,i,"video_url",e.target.value)}),(0,t.jsxs)("p",{style:{fontSize:11,color:"var(--text-muted)",marginTop:4},children:["google_drive"===e.video_type&&"Share â†’ Copy link from Google Drive (set access to 'Anyone with the link')","github"===e.video_type&&"Use raw GitHub content URL (e.g. https://github.com/user/repo/blob/main/video.mp4)","youtube"===e.video_type&&"Standard YouTube watch URL (e.g. https://youtube.com/watch?v=xxx)","vimeo"===e.video_type&&"Vimeo video URL (e.g. https://vimeo.com/123456789)","loom"===e.video_type&&"Loom share URL (e.g. https://www.loom.com/share/xxx)","direct"===e.video_type&&"Direct link to .mp4 file (any publicly accessible URL)"]})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{className:"label",children:[(0,t.jsx)(g.FileText,{size:12,style:{display:"inline",marginRight:4}}),"Notes (Markdown supported)"]}),(0,t.jsx)("textarea",{className:"input",placeholder:"# Lesson Notes  Add markdown notes here...",value:e.notes,onChange:e=>K(s,i,"notes",e.target.value),style:{minHeight:120,fontFamily:"monospace",fontSize:13}})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Resources"}),e.resources.map((e,l)=>(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr 80px auto",gap:8,marginBottom:8},children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Name",value:e.name,onChange:e=>Y(s,i,l,"name",e.target.value),style:{fontSize:12}}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"URL",value:e.url,onChange:e=>Y(s,i,l,"url",e.target.value),style:{fontSize:12}}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Type",value:e.type,onChange:e=>Y(s,i,l,"type",e.target.value),style:{fontSize:12}}),(0,t.jsx)("button",{onClick:()=>{K(s,i,"resources",V[s].lessons[i].resources.filter((e,t)=>t!==l))},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",display:"flex",alignItems:"center"},children:(0,t.jsx)(d.Trash2,{size:13})})]},l)),(0,t.jsxs)("button",{className:"btn-secondary",onClick:()=>{K(s,i,"resources",[...V[s].lessons[i].resources,{name:"",url:"",type:"PDF"}])},style:{fontSize:12,marginTop:4},children:[(0,t.jsx)(n.Plus,{size:13}),"Add Resource"]})]})]})]},i)})}),(0,t.jsxs)("button",{className:"btn-secondary",onClick:e=>{e.stopPropagation(),W(e=>{let t=[...e],i={...t[s]},l=i.lessons.length;return i.lessons=[...i.lessons,j(l)],t[s]=i,t}),G(e=>new Set([...e,`${s}-${V[s].lessons.length}`]))},style:{fontSize:13,marginTop:12},children:[(0,t.jsx)(n.Plus,{size:14}),"Add Lesson"]})]})]},s))}),(0,t.jsxs)("button",{className:"btn-secondary",onClick:function(){W([...V,b(V.length)]),E(e=>new Set([...e,V.length]))},style:{marginTop:12,fontSize:14},children:[(0,t.jsx)(n.Plus,{size:15}),"Add Module"]})]}),(0,t.jsxs)("div",{style:{position:"sticky",bottom:0,background:"var(--bg-primary)",padding:"16px 0",borderTop:"1px solid var(--border)",display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,t.jsx)(f.default,{href:"/dashboard/admin/courses",children:(0,t.jsx)("button",{className:"btn-secondary",children:"Cancel"})}),(0,t.jsxs)("button",{className:"btn-primary",onClick:Q,disabled:k,children:[(0,t.jsx)(h,{size:16}),k?"Saving...":"create"===e?"Create Course":"Save Changes"]})]})]})}e.s(["default",()=>_],14978)},6818,e=>{"use strict";var t=e.i(18050),s=e.i(90571),i=e.i(14978),l=e.i(18566),r=e.i(71645);e.i(36180);var o=e.i(98925),a=e.i(67426),n=e.i(21841);function d({params:e}){let{courseId:d}=(0,r.use)(e),{user:c,profile:u,loading:p}=(0,s.useAuth)(),h=(0,l.useRouter)(),[m,x]=(0,r.useState)(null),[y,g]=(0,r.useState)(!0),[v,f]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{!p&&u&&"admin"!==u.role&&h.push("/dashboard")},[p,u,h]),(0,r.useEffect)(()=>{async function e(){if(d&&c&&u&&"admin"===u.role)try{let e=(0,o.doc)(a.db,"courses",d),t=await (0,o.getDoc)(e);if(!t.exists()){f(!0),g(!1);return}let s={id:t.id,...t.data()},i=(0,o.collection)(a.db,"modules"),l=(0,o.query)(i,(0,o.where)("course_id","==",d)),r=await (0,o.getDocs)(l),n=[];for(let e of(r.forEach(e=>{n.push({id:e.id,...e.data()})}),n)){let t=(0,o.collection)(a.db,"lessons"),s=(0,o.query)(t,(0,o.where)("module_id","==",e.id)),i=await (0,o.getDocs)(s),l=[];i.forEach(e=>{l.push({id:e.id,...e.data()})}),e.lessons=l.sort((e,t)=>e.order_index-t.order_index)}n.sort((e,t)=>e.order_index-t.order_index),x({...s,modules:n})}catch(e){console.error("Error fetching course:",e),f(!0)}finally{g(!1)}}c&&u&&"admin"===u.role&&e()},[d,c,u]),c&&u&&"admin"===u.role)?y?(0,t.jsx)(n.default,{text:"Loading course..."}):(v&&(0,l.notFound)(),(0,t.jsx)(i.default,{mode:"edit",userId:c.uid,initialCourse:m})):null}e.s(["default",()=>d])}]);