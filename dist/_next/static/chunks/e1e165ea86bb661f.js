(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41255,e=>{"use strict";let t=[{id:"course-1",title:"Complete Web Development Bootcamp",description:"Learn web development from scratch with this comprehensive course covering HTML, CSS, JavaScript, React, and more.",thumbnail_url:"https://images.unsplash.com/photo-1593720213428-28a5b9e94613?q=80&w=2070&auto=format&fit=crop",instructor_name:"John Doe",instructor_avatar:null,tags:["Web Dev","React","JavaScript"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:120,modules:10,lessons:45}},{id:"course-2",title:"Advanced React Patterns",description:"Master advanced React patterns and best practices for building scalable applications.",thumbnail_url:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=2070&auto=format&fit=crop",instructor_name:"Jane Smith",instructor_avatar:null,tags:["React","Advanced"],difficulty:"advanced",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:85,modules:8,lessons:32}},{id:"course-3",title:"UI/UX Design Fundamentals",description:"Learn the principles of beautiful and functional user interface design.",thumbnail_url:"https://images.unsplash.com/photo-1586717791821-3f44a5638d48?q=80&w=2070&auto=format&fit=crop",instructor_name:"Sarah Lee",instructor_avatar:null,tags:["Design","Figma","UI/UX"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:200,modules:12,lessons:50}},{id:"course-4",title:"Python for Data Science & Machine Learning",description:"Master Python programming for data analysis, visualization, and machine learning with hands-on projects using Pandas, NumPy, and Scikit-Learn.",thumbnail_url:"https://images.unsplash.com/photo-1526379095098-d400fd0bf935?q=80&w=2070&auto=format&fit=crop",instructor_name:"Dr. Alex Rivera",instructor_avatar:null,tags:["Python","Data Science","ML"],difficulty:"intermediate",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:340,modules:14,lessons:68}},{id:"course-5",title:"Cloud Architecture with AWS",description:"Design and deploy scalable cloud solutions using Amazon Web Services. Covers EC2, S3, Lambda, DynamoDB, and more.",thumbnail_url:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2070&auto=format&fit=crop",instructor_name:"Michael Chen",instructor_avatar:null,tags:["AWS","Cloud","DevOps"],difficulty:"intermediate",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-3456e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:156,modules:9,lessons:38}},{id:"course-6",title:"Mobile App Development with Flutter",description:"Build stunning cross-platform mobile apps with Flutter and Dart. Create beautiful, natively compiled applications for iOS and Android.",thumbnail_url:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?q=80&w=2070&auto=format&fit=crop",instructor_name:"Priya Sharma",instructor_avatar:null,tags:["Flutter","Dart","Mobile"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:278,modules:11,lessons:52}},{id:"course-7",title:"Cybersecurity Essentials",description:"Learn the fundamentals of cybersecurity including threat analysis, ethical hacking, network security, and incident response.",thumbnail_url:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop",instructor_name:"James Wilson",instructor_avatar:null,tags:["Security","Hacking","Networks"],difficulty:"intermediate",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-5184e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:192,modules:10,lessons:42}},{id:"course-8",title:"Modern JavaScript: ES6 to ESNext",description:"Deep dive into modern JavaScript features — from ES6 arrow functions to optional chaining, async generators, and beyond.",thumbnail_url:"https://images.unsplash.com/photo-1627398242454-45a1465c2479?q=80&w=2070&auto=format&fit=crop",instructor_name:"Emily Carter",instructor_avatar:null,tags:["JavaScript","ES6","Frontend"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:412,modules:7,lessons:35}},{id:"course-9",title:"Blockchain & Web3 Development",description:"Build decentralized applications with Solidity, Ethereum, and Web3.js. Understand smart contracts, DeFi, and NFT development.",thumbnail_url:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?q=80&w=2070&auto=format&fit=crop",instructor_name:"David Kim",instructor_avatar:null,tags:["Blockchain","Web3","Solidity"],difficulty:"advanced",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-6912e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:98,modules:8,lessons:30}},{id:"course-10",title:"Next.js Full-Stack Masterclass",description:"Build production-ready full-stack applications with Next.js 14, Server Actions, App Router, and modern deployment strategies.",thumbnail_url:"https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=2070&auto=format&fit=crop",instructor_name:"Rachel Green",instructor_avatar:null,tags:["Next.js","Full-Stack","React"],difficulty:"intermediate",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-7776e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:265,modules:13,lessons:55}},{id:"course-11",title:"Docker & Kubernetes for Developers",description:"Master containerization with Docker and orchestrate microservices with Kubernetes. Deploy, scale, and manage applications like a pro.",thumbnail_url:"https://images.unsplash.com/photo-1667372393119-3d4c48d07fc9?q=80&w=2070&auto=format&fit=crop",instructor_name:"Omar Hassan",instructor_avatar:null,tags:["Docker","Kubernetes","DevOps"],difficulty:"advanced",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:134,modules:9,lessons:40}},{id:"course-12",title:"Graphic Design with Adobe Creative Suite",description:"Create stunning visual designs using Photoshop, Illustrator, and InDesign. From branding to social media — become a design pro.",thumbnail_url:"https://images.unsplash.com/photo-1626785774573-4b799315345d?q=80&w=2070&auto=format&fit=crop",instructor_name:"Lisa Park",instructor_avatar:null,tags:["Photoshop","Illustrator","Design"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-9504e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:310,modules:15,lessons:60}}],i=[{id:"mod-1",course_id:"course-1",title:"Introduction",description:"Getting started with the course",order_index:0,created_at:new Date().toISOString(),lessons:[{id:"les-1",module_id:"mod-1",course_id:"course-1",title:"Welcome to the Course",description:"Overview of what we will learn",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",video_type:"youtube",duration_seconds:120,order_index:0,created_at:new Date().toISOString(),notes:"Welcome!",resources:[],completed:!1}]}];e.s(["MOCK_COURSES",0,t,"MOCK_MODULES",0,i])},64659,55900,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>i],64659);let a=(0,t.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>a],55900)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},14978,e=>{"use strict";var t=e.i(18050),i=e.i(71645),a=e.i(46932),s=e.i(18566),n=e.i(5766);e.i(36180);var r=e.i(98925),o=e.i(67426),l=e.i(7233),d=e.i(27612),c=e.i(64659),u=e.i(55900),p=e.i(75254);let m=(0,p.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=e.i(71689);let g=(0,p.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),y=(0,p.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var v=e.i(78583);let f=(0,p.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var x=e.i(22016);function _(e){return{title:"",description:"",video_url:"",video_type:"google_drive",notes:"",resources:[],duration_seconds:"",quiz_link:"",order_index:e}}function b(e){return{title:"",description:"",order_index:e,lessons:[_(0)]}}function S({mode:e,userId:p,initialCourse:S}){let j=(0,s.useRouter)(),[w,D]=(0,i.useState)(!1),[C,k]=(0,i.useState)(S?.title??""),[z,N]=(0,i.useState)(S?.description??""),[O,I]=(0,i.useState)(S?.thumbnail_url??""),[M,L]=(0,i.useState)(S?.instructor_name??""),[R,T]=(0,i.useState)(S?.tags?.join(", ")??""),[U,A]=(0,i.useState)(S?.difficulty??"beginner"),[B,q]=(0,i.useState)(S?.is_published??!1),[P,W]=(0,i.useState)(S?.is_featured??!1),[F,H]=(0,i.useState)(S?.modules&&S.modules.length>0?S.modules.sort((e,t)=>e.order_index-t.order_index).map(e=>({id:e.id,title:e.title,description:e.description??"",order_index:e.order_index,lessons:e.lessons.sort((e,t)=>e.order_index-t.order_index).map(e=>({id:e.id,title:e.title,description:e.description??"",video_url:e.video_url,video_type:e.video_type,notes:e.notes??"",resources:e.resources??[],duration_seconds:e.duration_seconds?.toString()??"",quiz_link:e.quiz_link??"",order_index:e.order_index}))})):[b(0)]),[E,J]=(0,i.useState)(new Set([0])),[K,V]=(0,i.useState)(new Set(["0-0"]));function G(e,t,i){H(a=>{let s=[...a];return s[e]={...s[e],[t]:i},s})}function $(e,t,i,a){H(s=>{let n=[...s],r={...n[e]},o=[...r.lessons];return o[t]={...o[t],[i]:a},r.lessons=o,n[e]=r,n})}function Q(e,t,i,a,s){let n=[...F[e].lessons[t].resources];n[i]={...n[i],[a]:s},$(e,t,"resources",n)}async function X(){if(!C.trim())return void n.default.error("Course title is required");D(!0);let t=R.split(",").map(e=>e.trim()).filter(Boolean),i=S?.id;try{for(let[a,s]of("create"===e?i=(await (0,r.addDoc)((0,r.collection)(o.db,"courses"),{title:C,description:z,thumbnail_url:O||null,instructor_name:M,tags:t,difficulty:U,is_published:B,is_featured:P,created_by:p,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})).id:await (0,r.setDoc)((0,r.doc)(o.db,"courses",i),{title:C,description:z,thumbnail_url:O||null,instructor_name:M,tags:t,difficulty:U,is_published:B,is_featured:P,updated_at:new Date().toISOString()},{merge:!0}),F.entries())){let e=s.id;if(e&&!e.startsWith("temp-")?await (0,r.setDoc)((0,r.doc)(o.db,"modules",e),{course_id:i,title:s.title,description:s.description||null,order_index:a},{merge:!0}):e=(await (0,r.addDoc)((0,r.collection)(o.db,"modules"),{course_id:i,title:s.title,description:s.description||null,order_index:a,created_at:new Date().toISOString()})).id,e)for(let[t,a]of s.lessons.entries()){let s={module_id:e,course_id:i,title:a.title,description:a.description||null,video_url:a.video_url,video_type:a.video_type,notes:a.notes||null,quiz_link:a.quiz_link||null,resources:a.resources,duration_seconds:a.duration_seconds?parseInt(a.duration_seconds):null,order_index:t,updated_at:new Date().toISOString()};a.id&&!a.id.startsWith("temp-")?await (0,r.setDoc)((0,r.doc)(o.db,"lessons",a.id),s,{merge:!0}):await (0,r.addDoc)((0,r.collection)(o.db,"lessons"),{...s,created_at:new Date().toISOString()})}}n.default.success("create"===e?"Course created!":"Course updated!"),j.push(`/dashboard/courses/${i}`)}catch(e){console.error("Error saving course:",e),n.default.error("Failed to save course: "+e.message)}finally{D(!1)}}return(0,t.jsxs)("div",{style:{maxWidth:900},children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{marginBottom:28},children:[(0,t.jsx)(x.default,{href:"/dashboard/admin/courses",style:{textDecoration:"none"},children:(0,t.jsxs)("button",{className:"btn-secondary",style:{fontSize:13,marginBottom:16},children:[(0,t.jsx)(h.ArrowLeft,{size:14}),"Back to Courses"]})}),(0,t.jsx)("h1",{style:{fontFamily:"Poppins, sans-serif",fontSize:"clamp(1.5rem, 3vw, 2rem)",fontWeight:700,color:"var(--text-primary)",letterSpacing:"-0.02em"},children:"create"===e?"Create New Course":"Edit Course"})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",style:{padding:"24px",marginBottom:20},children:[(0,t.jsx)("h2",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)",marginBottom:18},children:"Course Information"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Course Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"e.g. Complete Web Development Bootcamp",value:C,onChange:e=>k(e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Description"}),(0,t.jsx)("textarea",{className:"input",placeholder:"Describe what students will learn...",value:z,onChange:e=>N(e.target.value),style:{minHeight:90}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Instructor Name"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"John Doe",value:M,onChange:e=>L(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Difficulty"}),(0,t.jsxs)("select",{className:"input",value:U,onChange:e=>A(e.target.value),children:[(0,t.jsx)("option",{value:"beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"React, JavaScript, Web Development",value:R,onChange:e=>T(e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Thumbnail URL (optional)"}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://...",value:O,onChange:e=>I(e.target.value)})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:20,gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"var(--text-secondary)"},children:[(0,t.jsx)("input",{type:"checkbox",checked:B,onChange:e=>q(e.target.checked)}),"Publish course (visible to students)"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:14,color:"var(--text-secondary)"},children:[(0,t.jsx)("input",{type:"checkbox",checked:P,onChange:e=>W(e.target.checked)}),"Featured course"]})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:20},children:[(0,t.jsx)("h2",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)",marginBottom:14},children:"Course Content"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:F.map((e,i)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*i},className:"card",style:{overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:12,cursor:"pointer",borderBottom:E.has(i)?"1px solid var(--border)":"none"},onClick:()=>{J(e=>{let t=new Set(e);return t.has(i)?t.delete(i):t.add(i),t})},children:[(0,t.jsx)(g,{size:16,color:"var(--text-muted)"}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsxs)("div",{style:{fontSize:12,color:"var(--text-muted)",marginBottom:2},children:["Module ",i+1]}),(0,t.jsx)("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)"},children:e.title||"Untitled Module"})]}),(0,t.jsxs)("span",{style:{fontSize:12,color:"var(--text-muted)"},children:[e.lessons.length," lesson",1!==e.lessons.length?"s":""]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),H(e=>e.filter((e,t)=>t!==i))},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",padding:4},children:(0,t.jsx)(d.Trash2,{size:14})}),E.has(i)?(0,t.jsx)(u.ChevronUp,{size:16,color:"var(--text-muted)"}):(0,t.jsx)(c.ChevronDown,{size:16,color:"var(--text-muted)"})]}),E.has(i)&&(0,t.jsxs)("div",{style:{padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:14,marginBottom:20},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Module Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Module title",value:e.title,onChange:e=>G(i,"title",e.target.value),onClick:e=>e.stopPropagation()})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Module Description"}),(0,t.jsx)("textarea",{className:"input",placeholder:"Optional description",value:e.description,onChange:e=>G(i,"description",e.target.value),style:{minHeight:60}})]})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:e.lessons.map((e,a)=>{let s=`${i}-${a}`,n=K.has(s);return(0,t.jsxs)("div",{style:{border:"1px solid var(--border)",borderRadius:10,overflow:"hidden",background:"var(--bg-secondary)"},children:[(0,t.jsxs)("div",{style:{padding:"12px 14px",display:"flex",alignItems:"center",gap:10,cursor:"pointer"},onClick:()=>{V(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},children:[(0,t.jsx)(y,{size:14,color:"#c9a84c"}),(0,t.jsx)("span",{style:{flex:1,fontSize:13,fontWeight:500,color:"var(--text-primary)"},children:e.title||`Lesson ${a+1}`}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),H(e=>{let t=[...e],s={...t[i]},n=s.lessons.filter((e,t)=>t!==a);return s.lessons=n,t[i]=s,t})},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",padding:4},children:(0,t.jsx)(d.Trash2,{size:13})}),n?(0,t.jsx)(u.ChevronUp,{size:14,color:"var(--text-muted)"}):(0,t.jsx)(c.ChevronDown,{size:14,color:"var(--text-muted)"})]}),n&&(0,t.jsxs)("div",{style:{padding:"14px",borderTop:"1px solid var(--border)"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12},children:[(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Lesson Title *"}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Lesson title",value:e.title,onChange:e=>$(i,a,"title",e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Video Type"}),(0,t.jsxs)("select",{className:"input",value:e.video_type,onChange:e=>$(i,a,"video_type",e.target.value),children:[(0,t.jsx)("option",{value:"google_drive",children:"Google Drive"}),(0,t.jsx)("option",{value:"github",children:"GitHub"}),(0,t.jsx)("option",{value:"youtube",children:"YouTube"}),(0,t.jsx)("option",{value:"vimeo",children:"Vimeo"}),(0,t.jsx)("option",{value:"loom",children:"Loom"}),(0,t.jsx)("option",{value:"direct",children:"Direct URL (.mp4)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Duration (seconds)"}),(0,t.jsx)("input",{className:"input",type:"number",placeholder:"e.g. 600",value:e.duration_seconds,onChange:e=>$(i,a,"duration_seconds",e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{className:"label",children:"Quiz Link (Optional)"}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://docs.google.com/forms/...",value:e.quiz_link||"",onChange:e=>$(i,a,"quiz_link",e.target.value)})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{className:"label",children:[(0,t.jsx)(f,{size:12,style:{display:"inline",marginRight:4}}),"Video URL *"]}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"https://drive.google.com/file/d/... or raw GitHub URL",value:e.video_url,onChange:e=>$(i,a,"video_url",e.target.value)}),(0,t.jsxs)("p",{style:{fontSize:11,color:"var(--text-muted)",marginTop:4},children:["google_drive"===e.video_type&&"Share → Copy link from Google Drive (set access to 'Anyone with the link')","github"===e.video_type&&"Use raw GitHub content URL (e.g. https://github.com/user/repo/blob/main/video.mp4)","youtube"===e.video_type&&"Standard YouTube watch URL (e.g. https://youtube.com/watch?v=xxx)","vimeo"===e.video_type&&"Vimeo video URL (e.g. https://vimeo.com/123456789)","loom"===e.video_type&&"Loom share URL (e.g. https://www.loom.com/share/xxx)","direct"===e.video_type&&"Direct link to .mp4 file (any publicly accessible URL)"]})]}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsxs)("label",{className:"label",children:[(0,t.jsx)(v.FileText,{size:12,style:{display:"inline",marginRight:4}}),"Notes (Markdown supported)"]}),(0,t.jsx)("textarea",{className:"input",placeholder:"# Lesson Notes  Add markdown notes here...",value:e.notes,onChange:e=>$(i,a,"notes",e.target.value),style:{minHeight:120,fontFamily:"monospace",fontSize:13}})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"Resources"}),e.resources.map((e,s)=>(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr 80px auto",gap:8,marginBottom:8},children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Name",value:e.name,onChange:e=>Q(i,a,s,"name",e.target.value),style:{fontSize:12}}),(0,t.jsx)("input",{className:"input",type:"url",placeholder:"URL",value:e.url,onChange:e=>Q(i,a,s,"url",e.target.value),style:{fontSize:12}}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Type",value:e.type,onChange:e=>Q(i,a,s,"type",e.target.value),style:{fontSize:12}}),(0,t.jsx)("button",{onClick:()=>{$(i,a,"resources",F[i].lessons[a].resources.filter((e,t)=>t!==s))},style:{background:"none",border:"none",cursor:"pointer",color:"#f87171",display:"flex",alignItems:"center"},children:(0,t.jsx)(d.Trash2,{size:13})})]},s)),(0,t.jsxs)("button",{className:"btn-secondary",onClick:()=>{$(i,a,"resources",[...F[i].lessons[a].resources,{name:"",url:"",type:"PDF"}])},style:{fontSize:12,marginTop:4},children:[(0,t.jsx)(l.Plus,{size:13}),"Add Resource"]})]})]})]},a)})}),(0,t.jsxs)("button",{className:"btn-secondary",onClick:e=>{e.stopPropagation(),H(e=>{let t=[...e],a={...t[i]},s=a.lessons.length;return a.lessons=[...a.lessons,_(s)],t[i]=a,t}),V(e=>new Set([...e,`${i}-${F[i].lessons.length}`]))},style:{fontSize:13,marginTop:12},children:[(0,t.jsx)(l.Plus,{size:14}),"Add Lesson"]})]})]},i))}),(0,t.jsxs)("button",{className:"btn-secondary",onClick:function(){H([...F,b(F.length)]),J(e=>new Set([...e,F.length]))},style:{marginTop:12,fontSize:14},children:[(0,t.jsx)(l.Plus,{size:15}),"Add Module"]})]}),(0,t.jsxs)("div",{style:{position:"sticky",bottom:0,background:"var(--bg-primary)",padding:"16px 0",borderTop:"1px solid var(--border)",display:"flex",gap:12,justifyContent:"flex-end"},children:[(0,t.jsx)(x.default,{href:"/dashboard/admin/courses",children:(0,t.jsx)("button",{className:"btn-secondary",children:"Cancel"})}),(0,t.jsxs)("button",{className:"btn-primary",onClick:X,disabled:w,children:[(0,t.jsx)(m,{size:16}),w?"Saving...":"create"===e?"Create Course":"Save Changes"]})]})]})}e.s(["default",()=>S],14978)},6818,e=>{"use strict";var t=e.i(18050),i=e.i(29966),a=e.i(14978),s=e.i(41255),n=e.i(18566),r=e.i(71645);function o({params:e}){let{courseId:o}=(0,r.use)(e),{user:l,profile:d,loading:c}=(0,i.useAuth)(),u=(0,n.useRouter)();if((0,r.useEffect)(()=>{!c&&d&&"admin"!==d.role&&u.push("/dashboard")},[c,d,u]),!l||!d||"admin"!==d.role)return null;let p=s.MOCK_COURSES.find(e=>e.id===o);p||(0,n.notFound)();let m={...p,modules:s.MOCK_MODULES.filter(e=>e.course_id===o)};return(0,t.jsx)(a.default,{mode:"edit",userId:l.uid,initialCourse:m})}e.s(["default",()=>o])}]);