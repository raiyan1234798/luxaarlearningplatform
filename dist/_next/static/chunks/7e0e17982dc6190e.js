(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},77705,e=>{"use strict";let t=(0,e.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},21930,e=>{"use strict";var t=e.i(18050),i=e.i(90571),s=e.i(71645),a=e.i(46932),r=e.i(22016),l=e.i(5766);e.i(36180);var d=e.i(98925),n=e.i(67426),o=e.i(55436),c=e.i(7233),u=e.i(88511),h=e.i(86536),p=e.i(77705),y=e.i(75157);function f({courses:e}){let[i,f]=(0,s.useState)(e),[x,g]=(0,s.useState)(""),[m,b]=(0,s.useState)(null),j=i.filter(e=>{let t=x.toLowerCase();return(e.title||"").toLowerCase().includes(t)});async function v(e,t){b(e);try{await (0,d.updateDoc)((0,d.doc)(n.db,"courses",e),{is_published:!t,updated_at:new Date().toISOString()}),l.default.success(t?"Course unpublished":"Course published"),f(i=>i.map(i=>i.id===e?{...i,is_published:!t}:i))}catch(e){console.error("Error toggling publish:",e),l.default.error("Failed to update status")}b(null)}return(0,t.jsxs)("div",{style:{maxWidth:1100},children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:28,flexWrap:"wrap",gap:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontFamily:"Poppins, sans-serif",fontSize:"clamp(1.5rem, 3vw, 2rem)",fontWeight:700,color:"var(--text-primary)",letterSpacing:"-0.02em",marginBottom:4},children:"Manage Courses"}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:14},children:"Create and manage your educational content."})]}),(0,t.jsx)(r.default,{href:"/dashboard/admin/courses/new",children:(0,t.jsxs)("button",{className:"btn-primary",children:[(0,t.jsx)(c.Plus,{size:16}),"Create Course"]})})]}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},style:{marginBottom:24,maxWidth:400},children:(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)(o.Search,{size:15,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Search courses...",value:x,onChange:e=>g(e.target.value),style:{paddingLeft:36}})]})}),(0,t.jsx)("div",{style:{display:"grid",gap:16},children:0===j.length?(0,t.jsx)("div",{className:"card",style:{padding:40,textAlign:"center"},children:(0,t.jsx)("p",{style:{color:"var(--text-muted)"},children:"No courses found."})}):j.map((e,i)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*i},className:"card",style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[(0,t.jsx)("div",{style:{width:80,height:50,borderRadius:6,background:"var(--bg-secondary)",overflow:"hidden",flexShrink:0},children:e.thumbnail_url?(0,t.jsx)("img",{src:e.thumbnail_url,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,t.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",fontSize:10},children:"No Image"})}),(0,t.jsxs)("div",{style:{flex:1,minWidth:200},children:[(0,t.jsx)("h3",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:e.title}),(0,t.jsxs)("div",{style:{display:"flex",gap:12,fontSize:12,color:"var(--text-muted)"},children:[(0,t.jsx)("span",{children:(0,y.formatDate)(e.created_at)}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:e.difficulty})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)("span",{style:{fontSize:12,padding:"3px 10px",borderRadius:999,fontWeight:500,background:e.is_published?"rgba(74,222,128,0.1)":"rgba(250,204,21,0.1)",color:e.is_published?"#4ade80":"#facc15"},children:e.is_published?"Published":"Draft"}),(0,t.jsx)("div",{style:{width:1,height:24,background:"var(--border)"}}),(0,t.jsx)("button",{onClick:()=>v(e.id,e.is_published),disabled:m===e.id,title:e.is_published?"Unpublish":"Publish",style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:8,color:"var(--text-secondary)",display:"flex"},className:"hover:bg-zinc-100 dark:hover:bg-zinc-800",children:e.is_published?(0,t.jsx)(p.EyeOff,{size:16}):(0,t.jsx)(h.Eye,{size:16})}),(0,t.jsx)(r.default,{href:`/dashboard/admin/courses/edit?id=${e.id}`,children:(0,t.jsx)("button",{title:"Edit",style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:8,color:"var(--text-secondary)",display:"flex"},className:"hover:bg-zinc-100 dark:hover:bg-zinc-800",children:(0,t.jsx)(u.Edit,{size:16})})})]})]},e.id))})]})}var x=e.i(18566),g=e.i(21841);function m(){let{user:e,profile:a,loading:r}=(0,i.useAuth)(),l=(0,x.useRouter)(),[o,c]=(0,s.useState)([]),[u,h]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{!r&&a&&"admin"!==a.role&&l.push("/dashboard")},[r,a,l]),(0,s.useEffect)(()=>{async function t(){if(e&&a&&"admin"===a.role)try{let e=(0,d.collection)(n.db,"courses"),t=(0,d.query)(e,(0,d.orderBy)("created_at","desc")),i=await (0,d.getDocs)(t),s=[];i.forEach(e=>{s.push({id:e.id,...e.data()})}),c(s)}catch(e){console.error("Error fetching courses:",e)}finally{h(!1)}}e&&a&&"admin"===a.role&&t()},[e,a]),e&&a&&"admin"===a.role)?u?(0,t.jsx)(g.default,{text:"Loading courses..."}):(0,t.jsx)(f,{courses:o}):null}e.s(["default",()=>m],21930)}]);