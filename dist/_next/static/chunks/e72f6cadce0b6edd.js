(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);e.s(["Clock",()=>t],3116)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},41255,e=>{"use strict";let t=[{id:"course-1",title:"Complete Web Development Bootcamp",description:"Learn web development from scratch with this comprehensive course covering HTML, CSS, JavaScript, React, and more.",thumbnail_url:"https://images.unsplash.com/photo-1593720213428-28a5b9e94613?q=80&w=2070&auto=format&fit=crop",instructor_name:"John Doe",tags:["Web Dev","React","JavaScript"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:120,modules:10,lessons:45}},{id:"course-2",title:"Advanced React Patterns",description:"Master advanced React patterns and best practices for building scalable applications.",thumbnail_url:"https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=2070&auto=format&fit=crop",instructor_name:"Jane Smith",tags:["React","Advanced"],difficulty:"advanced",is_published:!0,is_featured:!1,created_by:"admin",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:85,modules:8,lessons:32}},{id:"course-3",title:"UI/UX Design Fundamentals",description:"Learn the principles of beautiful and functional user interface design.",thumbnail_url:"https://images.unsplash.com/photo-1586717791821-3f44a5638d48?q=80&w=2070&auto=format&fit=crop",instructor_name:"Sarah Lee",tags:["Design","Figma","UI/UX"],difficulty:"beginner",is_published:!0,is_featured:!0,created_by:"admin",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date().toISOString(),_count:{enrollments:200,modules:12,lessons:50}}],i=[{id:"mod-1",course_id:"course-1",title:"Introduction",description:"Getting started with the course",order_index:0,created_at:new Date().toISOString(),lessons:[{id:"les-1",module_id:"mod-1",course_id:"course-1",title:"Welcome to the Course",description:"Overview of what we will learn",video_url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",video_type:"youtube",duration_seconds:120,order_index:0,created_at:new Date().toISOString(),notes:"Welcome!",resources:[],completed:!1}]}];e.s(["MOCK_COURSES",0,t,"MOCK_MODULES",0,i])},64659,55900,e=>{"use strict";var t=e.i(75254);let i=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>i],64659);let s=(0,t.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>s],55900)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},31343,e=>{"use strict";let t=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);e.s(["Play",()=>t],31343)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},87768,e=>{"use strict";var t=e.i(18050),i=e.i(29966),s=e.i(71645),r=e.i(46932),n=e.i(18566),a=e.i(5766),l=e.i(11795),o=e.i(75157),d=e.i(10980),c=e.i(31343),u=e.i(3116),p=e.i(61911),m=e.i(69638),h=e.i(64659),y=e.i(55900),x=e.i(70756),g=e.i(88511),f=e.i(72520),v=e.i(22016);function j({course:e,enrollment:i,userId:j,isAdmin:b}){let S=(0,n.useRouter)(),w=(0,l.createClient)(),[_,C]=(0,s.useState)(!1),[z,k]=(0,s.useState)(new Set([e.modules?.[0]?.id])),D=e.modules?.reduce((e,t)=>e+(t.lessons?.length??0),0)??0,I=(0,o.getDifficultyColor)(e.difficulty);async function O(){C(!0);let{error:t}=await w.from("enrollments").insert({user_id:j,course_id:e.id,progress_percentage:0});t?a.default.error("Failed to enroll"):(a.default.success("Successfully enrolled!"),S.refresh()),C(!1)}return(0,t.jsxs)("div",{style:{maxWidth:1100},children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{marginBottom:32},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[(0,t.jsx)("span",{className:`badge ${I}`,style:{fontSize:12},children:e.difficulty}),e.tags?.map(e=>(0,t.jsx)("span",{style:{fontSize:12,padding:"3px 10px",borderRadius:999,background:"var(--bg-secondary)",color:"var(--text-muted)"},children:e},e)),!e.is_published&&(0,t.jsx)("span",{style:{fontSize:12,padding:"3px 10px",borderRadius:999,background:"rgba(248,113,113,0.1)",color:"#f87171"},children:"Draft"})]}),(0,t.jsx)("h1",{style:{fontFamily:"Poppins, sans-serif",fontSize:"clamp(1.5rem, 3vw, 2.25rem)",fontWeight:700,color:"var(--text-primary)",letterSpacing:"-0.02em",marginBottom:12,lineHeight:1.2},children:e.title}),(0,t.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:15,lineHeight:1.7,marginBottom:16,maxWidth:700},children:e.description}),(0,t.jsxs)("div",{style:{display:"flex",gap:20,flexWrap:"wrap",alignItems:"center",fontSize:14,color:"var(--text-muted)"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsx)(p.Users,{size:14,color:"#c9a84c"}),(0,t.jsx)("span",{style:{color:"var(--text-secondary)"},children:e.instructor_name})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsx)(d.BookOpen,{size:14}),(0,t.jsxs)("span",{children:[D," lessons"]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,t.jsx)(u.Clock,{size:14}),(0,t.jsxs)("span",{children:["Updated ",(0,o.formatDate)(e.updated_at)]})]})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:24,alignItems:"start"},children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[(0,t.jsx)("h2",{style:{fontSize:17,fontWeight:600,color:"var(--text-primary)",marginBottom:14},children:"Course Content"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.modules?.sort((e,t)=>e.order_index-t.order_index).map((e,s)=>(0,t.jsxs)("div",{className:"card",style:{overflow:"hidden"},children:[(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.id,void k(e=>{let i=new Set(e);return i.has(t)?i.delete(t):i.add(t),i})},style:{width:"100%",padding:"16px 18px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:12,textAlign:"left"},children:[(0,t.jsx)("div",{style:{width:30,height:30,borderRadius:8,background:"rgba(201,168,76,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:13,fontWeight:700,color:"#c9a84c"},children:s+1}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("div",{style:{fontWeight:600,fontSize:14,color:"var(--text-primary)"},children:e.title}),(0,t.jsxs)("div",{style:{fontSize:12,color:"var(--text-muted)"},children:[e.lessons?.length??0," lessons"]})]}),z.has(e.id)?(0,t.jsx)(y.ChevronUp,{size:16,color:"var(--text-muted)"}):(0,t.jsx)(h.ChevronDown,{size:16,color:"var(--text-muted)"})]}),z.has(e.id)&&e.lessons&&(0,t.jsx)("div",{style:{borderTop:"1px solid var(--border)",padding:"8px"},children:e.lessons.sort((e,t)=>(e.order_index??0)-(t.order_index??0)).map((e,s)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"10px 10px",borderRadius:8},children:[i||b?(0,t.jsx)(c.Play,{size:14,color:"#c9a84c"}):(0,t.jsx)(x.Lock,{size:14,color:"var(--text-muted)"}),(0,t.jsxs)("span",{style:{fontSize:13,color:i||b?"var(--text-primary)":"var(--text-muted)",flex:1},children:[s+1,". ",e.title]})]},e.id))})]},e.id)),(!e.modules||0===e.modules.length)&&(0,t.jsxs)("div",{className:"card",style:{padding:32,textAlign:"center"},children:[(0,t.jsx)(d.BookOpen,{size:32,color:"var(--text-muted)",style:{marginBottom:12}}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",fontSize:14},children:"No content added yet."})]})]})]}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{minWidth:260,maxWidth:300,width:"100%"},children:(0,t.jsxs)("div",{className:"card",style:{padding:"24px",position:"sticky",top:90},children:[i?(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("div",{style:{width:48,height:48,borderRadius:"50%",background:"rgba(74,222,128,0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:(0,t.jsx)(m.CheckCircle,{size:24,color:"#4ade80"})}),(0,t.jsx)("p",{style:{fontSize:14,fontWeight:600,marginBottom:6,color:"var(--text-primary)"},children:"You're enrolled"}),(0,t.jsx)("div",{className:"progress-bar",style:{marginBottom:8},children:(0,t.jsx)("div",{className:"progress-fill",style:{width:`${i.progress_percentage}%`}})}),(0,t.jsxs)("p",{style:{fontSize:12,color:"#c9a84c",marginBottom:16},children:[i.progress_percentage,"% complete"]}),(0,t.jsx)(v.default,{href:`/dashboard/courses/${e.id}/learn`,children:(0,t.jsxs)("button",{className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:[(0,t.jsx)(c.Play,{size:16}),i.progress_percentage>0?"Continue":"Start Learning"]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsx)("p",{style:{fontSize:22,fontWeight:800,color:"var(--text-primary)",marginBottom:4},children:"Free"}),(0,t.jsx)("p",{style:{fontSize:13,color:"var(--text-muted)"},children:"Full course access"})]}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:20},children:[`${D} lessons`,`${e.modules?.length??0} modules`,"Lifetime access","Completion certificate"].map(e=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,t.jsx)(m.CheckCircle,{size:14,color:"#4ade80"}),(0,t.jsx)("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:e})]},e))}),(0,t.jsxs)("button",{className:"btn-primary",onClick:O,disabled:_,style:{width:"100%",justifyContent:"center"},children:[_?"Enrolling...":"Enroll Now",!_&&(0,t.jsx)(f.ArrowRight,{size:16})]})]}),b&&(0,t.jsx)("div",{style:{marginTop:14,paddingTop:14,borderTop:"1px solid var(--border)"},children:(0,t.jsx)(v.default,{href:`/dashboard/admin/courses/${e.id}/edit`,children:(0,t.jsxs)("button",{className:"btn-secondary",style:{width:"100%",justifyContent:"center",fontSize:13},children:[(0,t.jsx)(g.Edit,{size:14}),"Edit Course"]})})})]})})]})]})}var b=e.i(41255);function S({params:e}){let{courseId:r}=(0,s.use)(e),{user:a,profile:l}=(0,i.useAuth)();if(!a||!l)return null;let o=b.MOCK_COURSES.find(e=>e.id===r);o||(0,n.notFound)();let d={...o,modules:b.MOCK_MODULES.filter(e=>e.course_id===r)};return(0,t.jsx)(j,{course:d,enrollment:null,userId:a.uid,isAdmin:l?.role==="admin"})}e.s(["default",()=>S],87768)}]);